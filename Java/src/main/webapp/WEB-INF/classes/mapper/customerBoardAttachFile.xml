<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="customerBoardAttachFile">
	<select id="getList" parameterType="int" resultType="customerAttachFile" >
		/* customerBoardAttachFile.getList */
		SELECT seq, original_filename, filename, size 
		FROM customer_board_attach_files 
		WHERE boardid = #{value} 
		ORDER BY seq DESC;
	</select>
	
	<insert id="add" parameterType="article" >
		/* customerBoardAttachFile.add */
		INSERT INTO customer_board_attach_files
		( boardid, userid, original_filename, filename, size, registered, company )
		VALUES  
		( #{boardid}, #{userid}, #{original_filename}, #{filename}, #{size}, now(), #{company}) 
	</insert>
	
	<select id="get" parameterType="int" resultType="customerAttachFile">
		/* customerBoardAttachFile.get */
		SELECT *   
		FROM customer_board_attach_files
		WHERE seq = #{value}
	</select>

	<delete id="delete" parameterType="int">
		/* customerBoardAttachFile.delete */
		DELETE FROM customer_board_attach_files
		WHERE seq = #{value}
	</delete>
	
	<select id="selectFileUser" parameterType="int" resultType="string" >
		/* customerBoardAttachFile.selectFileUser */
		SELECT userid 
		FROM customer_board_attach_files 
		WHERE seq = #{seq} 
	</select>
	
</mapper>